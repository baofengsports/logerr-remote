var App=function(){function i(){a(),t(),n()}function t(){s.on("exception-logged",function(i){var t;t='<li data-id="'+i.data.id+'" class="log-unread">',t+='<div class="log-item-wrapper">',t+='<div class="log-info clear">',t+='<div class="log-badge development-badge">'+i.data.badge+"</div>",t+='<div class="log-time">'+new Date(i.data.created_at)+"</div>",t+="</div>",t+="<h4>"+i.data.err+"</h4>",t+="</div>",t+="</li>",$(".log-list ul").prepend(t),e(i)})}function a(){}function e(i){Notification.requestPermission().then(function(t){var a=i.data.err.split(":");new Notification(a[0],{icon:"/assets/images/error.png",body:a[1].trim()})})}function n(){$("#log-list").on("click","ul li",function(){$(this).siblings().removeClass("active-log"),$(this).addClass("active-log"),window.location.hash="id="+$(this).data("id"),$.ajax({url:"/log-read",type:"post",dataType:"json",data:{id:$(this).data("id")},success:function(i){console.log("read success")},error:function(){throw"dicks"}}),$.ajax({url:"/exception-data",type:"post",dataType:"json",data:{id:$(this).data("id")},success:function(i){o(i)},error:function(){throw"dicks"}})})}function o(i){var t=i.data[0],a=$(".log-summary-details");$(".no-data").addClass("hide"),$(".log-summary-details").removeClass("hide"),$("#log-list").find('li[data-id="'+t.id+'"]').removeClass("log-unread"),a.find("h2").text(t.err),a.find(".log-stack-trace span:eq(1)").text(t.stack_trace),a.find(".log-file-name span:eq(1)").text(t.file_name),a.find(".log-file-line span:eq(1)").text(t.line_no),a.find(".log-file-column span:eq(1)").text(t.col_no),a.find(".log-file-column span:eq(1)").text(t.col_no),a.find(".log-client-time span:eq(1)").text(new Date(t.client_time)),a.find(".log-user-agent span:eq(1)").text(t.user_agent)}var s=io();return{init:i}}();